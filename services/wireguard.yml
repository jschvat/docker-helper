name: wireguard
description: "WireGuard VPN server - Fast, modern, secure VPN tunnel. Create your own VPN to securely access your network from anywhere."
image: linuxserver/wireguard:latest

variables:
  - name: PUID
    label: "User ID"
    type: number
    default: 1000
    description: "The user ID for file permissions"

  - name: PGID
    label: "Group ID"
    type: number
    default: 1000
    description: "The group ID for file permissions"

  - name: TZ
    label: "Timezone"
    type: string
    default: "America/New_York"
    description: "Timezone for the container"

  - name: SERVERURL
    label: "Server URL or IP"
    type: string
    default: "auto"
    description: "External IP or domain for clients to connect to (use 'auto' for automatic detection)"

  - name: SERVERPORT
    label: "Server Port"
    type: number
    default: 51820
    description: "External port for WireGuard (UDP)"

  - name: PEERS
    label: "Number of Peers"
    type: number
    default: 1
    description: "Number of peer config files to generate (or comma-separated peer names)"

  - name: PEERDNS
    label: "Peer DNS Server"
    type: string
    default: "auto"
    description: "DNS server for peers (use 'auto' or specify like 1.1.1.1)"

  - name: INTERNAL_SUBNET
    label: "Internal Subnet"
    type: string
    default: "10.13.13.0"
    description: "Internal subnet for the WireGuard network"

  - name: ALLOWEDIPS
    label: "Allowed IPs"
    type: string
    default: "0.0.0.0/0"
    description: "IPs/Ranges that peers are allowed to route (0.0.0.0/0 for all traffic through VPN)"

  - name: CONFIG_DIR
    label: "Config Directory"
    type: directory
    default: "/etc/wireguard"
    container_path: "/config"
    description: "Directory for WireGuard configuration and peer configs"

ports:
  - name: WIREGUARD_UDP
    host: 51820
    container: 51820
    protocol: udp
    description: "WireGuard VPN port (UDP)"
